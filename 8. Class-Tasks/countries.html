<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>

      // a few countries list
      const countries = [
        { name: "China", languages: ["Chinese"] },
        { name: "India", languages: ["Hindi", "English", "Bengali"] },
        { name: "United States", languages: ["English"] },
        { name: "Brazil", languages: ["Portuguese"] },
        { name: "Russia", languages: ["Russian"] },
        { name: "Germany", languages: ["German"] },
      ];

      function mostSpokenLanguages(countries, n) 
      {
        const langCount = {};
        countries.forEach((country) => 
        {
          country.languages.forEach((language) => 
          {
            langCount[language] = (langCount[language] || 0) + 1;
          });
        });

        const langEntries = Object.entries(langCount);
        langEntries.sort((a, b) => b[1] - a[1]);

        return langEntries
          .slice(0, n)
          .map(([language, count]) => ({ [language]: count }));
      }

      console.log(mostSpokenLanguages(countries, 10));
      console.log(mostSpokenLanguages(countries, 3));
    </script>
  </body>
</html>

<!-- OUTPUT:

0: {English: 2}
1: {Chinese: 1}
2: {Hindi: 1}
3: {Bengali: 1}
4: {Portuguese: 1}
5: {Russian: 1}
6: {German: 1}


0: {English: 2}
1: {Chinese: 1}
2: {Hindi: 1}

-->
